{"version":3,"sources":["js/main.js"],"names":["todoButton","document","getElementById","todoList","filterOption","querySelector","addEventListener","addTodo","checkDeleteTodo","filterTodos","getLocalTodos","styleFirstLastTodo","fetchedTodoString","text","event","preventDefault","fetchedTodo","value","div","createElement","innerHTML","saveLocalTodos","todoName","completed","append","firstChild","console","log","alert","focus","element","target","classList","deletedTodo","parentElement","add","removeLocalTodos","remove","checkedTodo","updateLocalToDo","toggle","todos","childNodes","length","forEach","todo","style","display","contains","localTodos","checkLocalTodos","i","children","lastChild","localStorage","getItem","JSON","parse","push","setItem","stringify","table","localTodo","splice","findIndex","v","innerText","updatedTodo"],"mappings":"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","file":"main.c1ba7625.js","sourceRoot":"../src","sourcesContent":["// select items\nconst todoButton = document.getElementById(\"todo-button\");\nconst todoList = document.getElementById(\"todo-list\");\nconst filterOption = document.querySelector(\".filter-todo\");\n\n// event listener\ntodoButton.addEventListener(\"click\", addTodo);\ntodoList.addEventListener(\"click\", checkDeleteTodo);\nfilterOption.addEventListener(\"change\", filterTodos);\ndocument.addEventListener(\"DOMContentLoaded\", getLocalTodos);\ndocument.addEventListener(\"DOMContentLoaded\", styleFirstLastTodo);\n\n// create todo html string with template literals\nconst fetchedTodoString = (text) => `<div class=\"todo-list-item\">\n<li class=\"todo-list-item-name\">${text}</li>\n<button class=\"check-button\" type=\"button\">\n<i class=\"fas fa-check-circle\"></i>\n</button>\n<button class=\"delete-button\" type=\"button\">\n<i class=\"fas fa-trash\"></i>\n</button>\n</div>`;\n\n// get input, run fetchedTodoString funtion and append todo using throwaway <div>\nfunction addTodo(event) {\n\tevent.preventDefault(); // prevent page reload\n\tconst fetchedTodo = document.getElementById(\"todo-input\").value;\n\tif (fetchedTodo) {\n\t\t// input has value\n\t\tconst div = document.createElement(\"div\");\n\t\tdiv.innerHTML = fetchedTodoString(fetchedTodo);\n\t\tconst newTodoObject = {\n\t\t\ttodoName: fetchedTodo,\n\t\t\tcompleted: false,\n\t\t};\n\t\tsaveLocalTodos(newTodoObject); // save todo to local storage\n\t\ttodoList.append(div.firstChild);\n\t\tstyleFirstLastTodo();\n\t\tdocument.getElementById(\"todo-input\").value = \"\"; // clear text input\n\t} else {\n\t\t// input has no value\n\t\tconsole.log(\"no input given\");\n\t\talert(\"Please enter a todo\");\n\t\tdocument.getElementById(\"todo-input\").focus(); // re-focus text input\n\t}\n}\n\n// check or delete todo depending on which element has been clicked\nfunction checkDeleteTodo(event) {\n\tconst element = event.target;\n\tif (element.classList[1] === \"fa-trash\") {\n\t\tconst deletedTodo = element.parentElement.parentElement; // grab todo to be deleted\n\t\tdeletedTodo.classList.add(\"todo-fade-out\"); // add fade out transition\n\t\tremoveLocalTodos(deletedTodo);\n\t\tdeletedTodo.addEventListener(\"transitionend\", function () {\n\t\t\tdeletedTodo.remove(); // remove todo on transition end\n\t\t\tstyleFirstLastTodo();\n\t\t});\n\t} else if (element.classList[1] === \"fa-check-circle\") {\n\t\tconst checkedTodo = element.parentElement.parentElement; // grab todo to be checked\n\t\tupdateLocalToDo(checkedTodo);\n\t\tif (checkedTodo.parentElement.classList[1]) {\n\t\t\tcheckedTodo.classList.remove(\"todo-completed\"); // if todo is already checked, only remove class\n\t\t} else {\n\t\t\tcheckedTodo.classList.toggle(\"todo-completed\"); // if todo is not checked toggle class\n\t\t}\n\t}\n}\n\n// filter todos for completed or not completed\nfunction filterTodos(event) {\n\tconst todos = todoList.childNodes;\n\tconsole.log(\"filter option:\", event.target.value, \",\", todoList.childNodes.length, \"todos total\");\n\ttodos.forEach(function (todo) {\n\t\tswitch (event.target.value) {\n\t\t\tcase \"all\":\n\t\t\t\ttodo.style.display = \"flex\";\n\t\t\t\tbreak;\n\t\t\tcase \"completed\":\n\t\t\t\tif (todo.classList.contains(\"todo-completed\")) {\n\t\t\t\t\ttodo.style.display = \"flex\";\n\t\t\t\t} else {\n\t\t\t\t\ttodo.style.display = \"none\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"to-be-done\":\n\t\t\t\tif (!todo.classList.contains(\"todo-completed\")) {\n\t\t\t\t\ttodo.style.display = \"flex\";\n\t\t\t\t} else {\n\t\t\t\t\ttodo.style.display = \"none\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n}\n\n// style todo HTML elements\nfunction styleFirstLastTodo() {\n\tconst localTodos = checkLocalTodos();\n\tconst todoList = document.getElementById(\"todo-list\"); // get todo list main element from DOM\n\tfor (let i = 0; i < localTodos.length; i++) {\n\t\t// remove styling for all todo HTML elements\n\t\tif (todoList.children[i].classList.contains(\"top-todo\")) {\n\t\t\ttodoList.children[i].classList.remove(\"top-todo\");\n\t\t} else if (todoList.children[i].classList.contains(\"bottom-todo\")) {\n\t\t\ttodoList.children[i].classList.remove(\"bottom-todo\");\n\t\t} else if (todoList.children[i].classList.contains(\"single-todo\")) {\n\t\t\ttodoList.children[i].classList.remove(\"single-todo\");\n\t\t}\n\t\tif (todoList.children.length === 1) {\n\t\t\ttodoList.firstChild.classList.add(\"single-todo\"); // add styling for single todo html element\n\t\t} else {\n\t\t\ttodoList.firstChild.classList.add(\"top-todo\"); // add styling for top todo html element\n\t\t\ttodoList.lastChild.classList.add(\"bottom-todo\"); // add styling for bottom todo html element\n\t\t}\n\t}\n}\n\n// check local storage for todos\nfunction checkLocalTodos() {\n\tlet localTodos;\n\tif (localStorage.getItem(\"localTodos\") === null) {\n\t\tlocalTodos = []; // no localTodos item in local storage, assign empty array to variable\n\t} else {\n\t\tlocalTodos = JSON.parse(localStorage.getItem(\"localTodos\")); // parse array from local storage to variable\n\t}\n\treturn localTodos;\n}\n\n// save todos to local storage\nfunction saveLocalTodos(todo) {\n\tconst localTodos = checkLocalTodos();\n\tlocalTodos.push(todo);\n\tlocalStorage.setItem(\"localTodos\", JSON.stringify(localTodos));\n\tconsole.log(todo.todoName, \"added, total todos in localStorage:\", localTodos.length);\n\tconsole.table(localTodos);\n}\n\n// get todos from local storage\nfunction getLocalTodos() {\n\tconst localTodos = checkLocalTodos();\n\tconsole.log(\"total todos in localStorage:\", localTodos.length);\n\tlocalTodos.forEach(function (localTodo) {\n\t\tconst div = document.createElement(\"div\");\n\t\tdiv.innerHTML = fetchedTodoString(localTodo.todoName);\n\t\tif (localTodo.completed === true) {\n\t\t\tdiv.firstChild.classList.add(\"todo-completed\"); // add css class to html element if todo is completed\n\t\t}\n\t\ttodoList.append(div.firstChild);\n\t});\n\tconsole.table(localTodos);\n}\n\n// remove todo from local storage\nfunction removeLocalTodos(todo) {\n\tconst localTodos = checkLocalTodos();\n\t// remove JSON object item from array using splice and findIndex method\n\tlocalTodos.splice(\n\t\tlocalTodos.findIndex((v) => v.todoName === todo.children[0].innerText),\n\t\t1,\n\t);\n\tlocalStorage.setItem(\"localTodos\", JSON.stringify(localTodos));\n\tconsole.log(\"total todos in localStorage:\", localTodos.length);\n\tconsole.table(localTodos);\n}\n\n// update completed todo in local storage\nfunction updateLocalToDo(todo) {\n\tconst localTodos = checkLocalTodos();\n\t// update completed object property in local strorage\n\tconst updatedTodo = todo.children[0].innerText;\n\tlocalTodos.forEach(function (localTodo) {\n\t\tif (localTodo.todoName === updatedTodo && localTodo.completed === false) {\n\t\t\tconsole.log(\"todo\", updatedTodo, \"completed\");\n\t\t\tlocalTodo.completed = true;\n\t\t\tconsole.table(localTodos);\n\t\t\treturn localTodo;\n\t\t} else if (localTodo.todoName === updatedTodo && localTodo.completed === true) {\n\t\t\tconsole.log(\"todo\", updatedTodo, \"uncompleted\");\n\t\t\tlocalTodo.completed = false;\n\t\t\tconsole.table(localTodos);\n\t\t\treturn localTodo;\n\t\t}\n\t});\n\tlocalStorage.setItem(\"localTodos\", JSON.stringify(localTodos));\n}\n"]}